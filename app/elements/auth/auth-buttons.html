<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="auth-in.html">

<dom-module id="auth-buttons">

  <template>

    <auth-user value="{{user}}"></auth-user>

    <auth-in id="in"></auth-in>

    <is-auth>
      <span>{{user.name}}</span>
      <meta-button method="DELETE" for="{'meta':{'href':'/api/auth'}}" update-model>
        <paper-icon-button icon="icons:settings-power"></paper-icon-button>
      </meta-button>
    </is-auth>

    <not-auth>
      <paper-button on-click="toggleAuth" toggles>
        <iron-icon icon="icons:perm-identity"></iron-icon>
        Войти
      </paper-button>
    </not-auth>


  </template>
  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'auth-buttons',
        properties: {
          user: {
            type: Object,
            notify: true
          }
        },

        toggleAuth: function() {
          this.$.in.toggle();
        }
      });
    })();
  </script>
</dom-module>