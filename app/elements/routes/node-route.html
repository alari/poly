<dom-module id="node-route">
    <template>
        <paper-material elevation="1">
            <auth-fetch auto url="{{nodeHref}}" last-json="{{lastJson}}"></auth-fetch>

            <h2>{{lastJson.title}}</h2>

            <div>
                <render-remarkable input="{{lastJson.text.content}}"></render-remarkable>
            </div>
        </paper-material>
    </template>
    <script>
        Polymer({
            is: "node-route",
            properties: {
                params: {
                    type: Object,
                    notify: true
                },
                nodeHref: {
                    computed: "computeNodeHref(params)"
                }
            },
            attached: function () {
                console.log("node route attached, params = ", this.params);
            },
            computeNodeHref: function (params) {
                return "/api/nodes/" + params.name + "?expand=user,text";
            }
        })
    </script>
</dom-module>