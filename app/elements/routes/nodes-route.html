<dom-module id="nodes-route">
  <style>
    paper-material {
      background-color: white;
      min-height: 120px;
      max-width: 720px;
      margin: 0px auto;
      padding: 2em;
    }
  </style>
  <template>
    <auth-fetch auto url="/api/nodes?expand=items.{text,user}" last-json="{{lastJson}}"></auth-fetch>


    <template is="dom-repeat" items="{{lastJson.items}}">
      <paper-material elevation="1">

        <h2>{{item.title}}</h2>

        <a href$="[[itemHref(item)]]">{{show(item)}}</a>

      </paper-material>

    </template>

  </template>
  <script>
    Polymer({
      is: "nodes-route",
      itemHref: function (item) {
        return "/nodes/" + item.id;
      },
      show: function(item) {
        return new Date(item.dateCreated).toDateString();
      }
    })
  </script>
</dom-module>