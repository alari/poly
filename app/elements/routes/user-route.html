<link rel="import" href="../node/nodes-list.html">

<dom-module id="user-route">
  <template>

    <div style="position: absolute;">
      <paper-spinner active$="{{!lastJson}}"></paper-spinner>
    </div>

    <meta-route no-load id="route" expand="items.{text,user},agg.count" model="{{lastJson}}">

      <nodes-list model="{{lastJson}}"></nodes-list>

    </meta-route>

  </template>
  <script>
    Polymer({
      is: "user-route",
      properties: {
        routeParams: {
          type: Object,
          observer: "_setRouteParams"
        }
      },
      _setRouteParams: function(routeParams) {
        if(!!routeParams && routeParams.id) {
          this.$.route.href = "/api/nodes?userId="+routeParams.id;
          this.$.route.noLoad = false;
        }
      }
    });
  </script>
</dom-module>